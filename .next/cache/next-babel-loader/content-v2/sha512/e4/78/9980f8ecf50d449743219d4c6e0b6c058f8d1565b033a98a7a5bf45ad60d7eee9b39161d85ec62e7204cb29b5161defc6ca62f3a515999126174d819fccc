{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../axios/axios';\nexport const userSettingsThunk = createAsyncThunk(`userSettings`, // Declare the type your function argument here:\nasync (data, thunkApi) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await axios({\n      url: '/users/validateUsername',\n      method: 'post',\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    console.log(response);\n    return response.data;\n  } catch (e) {\n    console.log(e.response);\n    return thunkApi.rejectWithValue(e.response);\n  }\n});\nexport const changeSettingsThunk = createAsyncThunk(`userSettings/changeSettings`, // Declare the type your function argument here:\nasync (data, thunkApi) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await axios({\n      url: '/users/profile',\n      method: 'patch',\n      data: data,\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    console.log(response);\n    return response.data;\n  } catch (e) {\n    console.log(e.response);\n    return thunkApi.rejectWithValue(e.response);\n  }\n});\nexport const delAccountThunk = createAsyncThunk(`userSettings/delAccount`, // Declare the type your function argument here:\nasync (data, thunkApi) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await axios({\n      url: '/users/profile',\n      method: 'delete',\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    console.log(response);\n    return response.data;\n  } catch (e) {\n    console.log(e.response);\n    return thunkApi.rejectWithValue(e.response);\n  }\n});","map":{"version":3,"sources":["C:/Users/Digicrym/Documents/inspocreate/src/reducers/userSettings/thunk.js"],"names":["createAsyncThunk","axios","userSettingsThunk","data","thunkApi","token","localStorage","getItem","response","url","method","headers","Authorization","console","log","e","rejectWithValue","changeSettingsThunk","delAccountThunk"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,OAAO,MAAMC,iBAAiB,GAAGF,gBAAgB,CAC/C,cAD+C,EAEhD;AACA,OAAOG,IAAP,EAAaC,QAAb,KAA0B;AACzB,MAAI;AACH,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,QAAQ,GAAG,MAAMP,KAAK,CAAC;AAC5BQ,MAAAA,GAAG,EAAE,yBADuB;AAE5BC,MAAAA,MAAM,EAAE,MAFoB;AAG5BC,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EAAE,YAAYP;AADnB;AAHmB,KAAD,CAA5B;AAOAQ,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,WAAOA,QAAQ,CAACL,IAAhB;AACA,GAXD,CAWE,OAAOY,CAAP,EAAU;AACXF,IAAAA,OAAO,CAACC,GAAR,CAAYC,CAAC,CAACP,QAAd;AACA,WAAOJ,QAAQ,CAACY,eAAT,CAAyBD,CAAC,CAACP,QAA3B,CAAP;AACA;AACD,CAnB+C,CAA1C;AAsBP,OAAO,MAAMS,mBAAmB,GAAGjB,gBAAgB,CACjD,6BADiD,EAElD;AACA,OAAOG,IAAP,EAAaC,QAAb,KAA0B;AACzB,MAAI;AACH,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,QAAQ,GAAG,MAAMP,KAAK,CAAC;AAC5BQ,MAAAA,GAAG,EAAE,gBADuB;AAE5BC,MAAAA,MAAM,EAAE,OAFoB;AAG5BP,MAAAA,IAAI,EAAEA,IAHsB;AAI5BQ,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EAAE,YAAYP;AADnB;AAJmB,KAAD,CAA5B;AAQAQ,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,WAAOA,QAAQ,CAACL,IAAhB;AACA,GAZD,CAYE,OAAOY,CAAP,EAAU;AACXF,IAAAA,OAAO,CAACC,GAAR,CAAYC,CAAC,CAACP,QAAd;AACA,WAAOJ,QAAQ,CAACY,eAAT,CAAyBD,CAAC,CAACP,QAA3B,CAAP;AACA;AACD,CApBiD,CAA5C;AAuBP,OAAO,MAAMU,eAAe,GAAGlB,gBAAgB,CAC7C,yBAD6C,EAE9C;AACA,OAAOG,IAAP,EAAaC,QAAb,KAA0B;AACzB,MAAI;AACH,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,QAAQ,GAAG,MAAMP,KAAK,CAAC;AAC5BQ,MAAAA,GAAG,EAAE,gBADuB;AAE5BC,MAAAA,MAAM,EAAE,QAFoB;AAG5BC,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EAAE,YAAYP;AADnB;AAHmB,KAAD,CAA5B;AAOAQ,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,WAAOA,QAAQ,CAACL,IAAhB;AACA,GAXD,CAWE,OAAOY,CAAP,EAAU;AACXF,IAAAA,OAAO,CAACC,GAAR,CAAYC,CAAC,CAACP,QAAd;AACA,WAAOJ,QAAQ,CAACY,eAAT,CAAyBD,CAAC,CAACP,QAA3B,CAAP;AACA;AACD,CAnB6C,CAAxC","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../axios/axios';\n\nexport const userSettingsThunk = createAsyncThunk(\n\t`userSettings`,\n\t// Declare the type your function argument here:\n\tasync (data, thunkApi) => {\n\t\ttry {\n\t\t\tconst token = localStorage.getItem('token');\n\t\t\tconst response = await axios({\n\t\t\t\turl: '/users/validateUsername',\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + token,\n\t\t\t\t},\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\treturn response.data;\n\t\t} catch (e) {\n\t\t\tconsole.log(e.response);\n\t\t\treturn thunkApi.rejectWithValue(e.response);\n\t\t}\n\t}\n);\n\nexport const changeSettingsThunk = createAsyncThunk(\n\t`userSettings/changeSettings`,\n\t// Declare the type your function argument here:\n\tasync (data, thunkApi) => {\n\t\ttry {\n\t\t\tconst token = localStorage.getItem('token');\n\t\t\tconst response = await axios({\n\t\t\t\turl: '/users/profile',\n\t\t\t\tmethod: 'patch',\n\t\t\t\tdata: data,\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + token,\n\t\t\t\t},\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\treturn response.data;\n\t\t} catch (e) {\n\t\t\tconsole.log(e.response);\n\t\t\treturn thunkApi.rejectWithValue(e.response);\n\t\t}\n\t}\n);\n\nexport const delAccountThunk = createAsyncThunk(\n\t`userSettings/delAccount`,\n\t// Declare the type your function argument here:\n\tasync (data, thunkApi) => {\n\t\ttry {\n\t\t\tconst token = localStorage.getItem('token');\n\t\t\tconst response = await axios({\n\t\t\t\turl: '/users/profile',\n\t\t\t\tmethod: 'delete',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + token,\n\t\t\t\t},\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\treturn response.data;\n\t\t} catch (e) {\n\t\t\tconsole.log(e.response);\n\t\t\treturn thunkApi.rejectWithValue(e.response);\n\t\t}\n\t}\n);\n"]},"metadata":{},"sourceType":"module"}